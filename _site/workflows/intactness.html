<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.176">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>BEACONs Conservation Planning and Analysis - Intactness mapping</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../workflows/hydrology.html" rel="next">
<link href="../workflows/disturbance.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../workflows/index.html">Workflows</a></li><li class="breadcrumb-item"><a href="../workflows/intactness.html">Intactness mapping</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main tools-wide">
    <a href="https://beaconsproject.ualberta.ca/" rel="" title="BEACONs Project" class="quarto-navigation-tool px-1" aria-label="BEACONs Project"><i class="bi bi-globe"></i></a>
    <a href="https://github.com/beaconsproject/beacons_docs" rel="" title="BEACONs Conservation Planning and Analysis" class="quarto-navigation-tool px-1" aria-label="BEACONs Conservation Planning and Analysis"><i class="bi bi-github"></i></a>
    <a href="https://twitter.com/vernier" rel="" title="Vernier Twitter" class="quarto-navigation-tool px-1" aria-label="Vernier Twitter"><i class="bi bi-twitter"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Datasets</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../workflows/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workflows</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../workflows/disturbance.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Disturbance mapping</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../workflows/intactness.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Intactness mapping</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../workflows/hydrology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hydrological connectivity</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../tools/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Shiny Apps</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tools/geopackage_creator.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geopackage Creator</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tools/disturbance_explorer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Disturbance Explorer</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tools/hydrology_explorer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hydrology Explorer</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R Packages</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Resources</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#workflow-mapping-intactness-and-footprint" id="toc-workflow-mapping-intactness-and-footprint" class="nav-link active" data-scroll-target="#workflow-mapping-intactness-and-footprint">Workflow: Mapping intactness and footprint</a></li>
  <li><a href="#step-1.-define-study-area-and-objectives" id="toc-step-1.-define-study-area-and-objectives" class="nav-link" data-scroll-target="#step-1.-define-study-area-and-objectives">Step 1. Define study area and objectives</a></li>
  <li><a href="#step-2.-create-geopackage-for-study-area" id="toc-step-2.-create-geopackage-for-study-area" class="nav-link" data-scroll-target="#step-2.-create-geopackage-for-study-area">Step 2. Create geopackage for study area</a></li>
  <li><a href="#step-3.-define-minimum-patch-size-and-buffers-of-influence" id="toc-step-3.-define-minimum-patch-size-and-buffers-of-influence" class="nav-link" data-scroll-target="#step-3.-define-minimum-patch-size-and-buffers-of-influence">Step 3. Define minimum patch size and buffers of influence</a></li>
  <li><a href="#step-4.-map-landscape-footprint-and-intactness" id="toc-step-4.-map-landscape-footprint-and-intactness" class="nav-link" data-scroll-target="#step-4.-map-landscape-footprint-and-intactness">Step 4. Map landscape footprint and intactness</a></li>
  <li><a href="#step-5.-export-footprint-and-intactness-maps" id="toc-step-5.-export-footprint-and-intactness-maps" class="nav-link" data-scroll-target="#step-5.-export-footprint-and-intactness-maps">Step 5. Export footprint and intactness maps</a></li>
  <li><a href="#repeat-using-different-buffer-width-and-minimum-patch-sizes-optional" id="toc-repeat-using-different-buffer-width-and-minimum-patch-sizes-optional" class="nav-link" data-scroll-target="#repeat-using-different-buffer-width-and-minimum-patch-sizes-optional">Repeat using different buffer width and minimum patch sizes (optional)</a></li>
  <li><a href="#workflow-mapping-disturbances" id="toc-workflow-mapping-disturbances" class="nav-link" data-scroll-target="#workflow-mapping-disturbances">Workflow: Mapping disturbances</a></li>
  <li><a href="#step-1.-define-area-and-disturbances-of-interest" id="toc-step-1.-define-area-and-disturbances-of-interest" class="nav-link" data-scroll-target="#step-1.-define-area-and-disturbances-of-interest">Step 1. Define area and disturbances of interest</a></li>
  <li><a href="#step-2.-assemble-existing-datasets" id="toc-step-2.-assemble-existing-datasets" class="nav-link" data-scroll-target="#step-2.-assemble-existing-datasets">Step 2. Assemble existing datasets</a></li>
  <li><a href="#step-3.-identify-spatial-and-temporal-gaps-in-coverage" id="toc-step-3.-identify-spatial-and-temporal-gaps-in-coverage" class="nav-link" data-scroll-target="#step-3.-identify-spatial-and-temporal-gaps-in-coverage">Step 3. Identify spatial and temporal gaps in coverage</a></li>
  <li><a href="#step-4.-fill-gaps-through-satellite-imagery-digitization" id="toc-step-4.-fill-gaps-through-satellite-imagery-digitization" class="nav-link" data-scroll-target="#step-4.-fill-gaps-through-satellite-imagery-digitization">Step 4. Fill gaps through satellite imagery digitization</a></li>
  <li><a href="#step-5.-merge-existing-and-new-datasets" id="toc-step-5.-merge-existing-and-new-datasets" class="nav-link" data-scroll-target="#step-5.-merge-existing-and-new-datasets">Step 5. Merge existing and new datasets</a></li>
  <li><a href="#step-6.-validate-and-revise-maps" id="toc-step-6.-validate-and-revise-maps" class="nav-link" data-scroll-target="#step-6.-validate-and-revise-maps">Step 6. Validate and revise maps</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/beaconsproject/beacons_docs/edit/main/workflows/intactness.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/beaconsproject/beacons_docs/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../workflows/index.html">Workflows</a></li><li class="breadcrumb-item"><a href="../workflows/intactness.html">Intactness mapping</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Disturbance mapping</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="workflow-mapping-intactness-and-footprint" class="level2">
<h2 class="anchored" data-anchor-id="workflow-mapping-intactness-and-footprint">Workflow: Mapping intactness and footprint</h2>
<p>There are a number of possible applications including using the disturbance map, including to: i) create a landscape intactness or human footprint map; ii) evaluate the effects of cumulative disturbances on focal species or ecosytems; iii) create a resitance or permeability map for connectivity analysis, or iv)assist in the design of field surveys e.g., to evaluate the impacts of mining of caribou. In this section, we focus on the first example, which consists of five broad steps:</p>
<ol type="1">
<li>Define study area and objectives</li>
<li>Create geopackage for study area</li>
<li>Define minimum patch size and buffers of influence</li>
<li>Map landscape footprint and intactness</li>
<li>Export footprint and intactness maps</li>
</ol>
<p>Optionally, depending on the conservation planning objectives, the last three steps can be repeated using different buffer width and minimum patch sizes.</p>
<p>The flowchart below provides an overview of the intactness mapping workflow and its five steps. Each step is then described in more detail in the following paragraphs.</p>
<center>
<img src="pics/intactness.png" width="90%"> <br><em>Figure 1. Flowchart outlining the five steps used to map landscape intactness and human footprint for a study area of interest.</em><br><br>
</center>
</section>
<section id="step-1.-define-study-area-and-objectives" class="level2">
<h2 class="anchored" data-anchor-id="step-1.-define-study-area-and-objectives">Step 1. Define study area and objectives</h2>
<p>The first step is to define a study area and objectives. Some thought should also be given for the objectives of this analysis. For example, is the objective to create one intactness and footprint map based on predefined buffers? Or, is the objective to do a sensitivity analysis to evaluate the effects of changing buffer sizes and minimum patch sizes on estimates of landscape intactness?</p>
</section>
<section id="step-2.-create-geopackage-for-study-area" class="level2">
<h2 class="anchored" data-anchor-id="step-2.-create-geopackage-for-study-area">Step 2. Create geopackage for study area</h2>
<p>Once a study area polygon has been defined, it can be used with the Geopackage Creator to create all of the data layers needed to create landscape intactness and footprint maps. More information on using the app is provided in the Geopackage Creator page of the Shiny Apps section of this website. Once the geopackage is ready, you can start the Disturbance Explorer and go to step 3.</p>
</section>
<section id="step-3.-define-minimum-patch-size-and-buffers-of-influence" class="level2">
<h2 class="anchored" data-anchor-id="step-3.-define-minimum-patch-size-and-buffers-of-influence">Step 3. Define minimum patch size and buffers of influence</h2>
<p>Here we provide a brief description of this step. For additional details on how to do this with the Disturbance Explorer app, go to its page in the Shiny Apps section. This step consists of two related tasks: 1) Define buffer sizes of influence for each disturbance type (linear, areal) and 2) Specify minimum patch size (and shape) to qualify as intact. To achieve the first task, each anthropogenic disturbance type needs to be assigned a buffer size of influence based on its spatial extent and ecological impact. To achieve the second task, the minimum size required for an intact landscape patch also needs to be defined to differentiate between fragmented and relatively undisturbed areas.</p>
</section>
<section id="step-4.-map-landscape-footprint-and-intactness" class="level2">
<h2 class="anchored" data-anchor-id="step-4.-map-landscape-footprint-and-intactness">Step 4. Map landscape footprint and intactness</h2>
<p>A landscape intactness (and footprint) map can be generated in one of three ways: i) using QGIS, ii) using R code, or iii) using the accompanying R/Shiny app. For now, we focus on the third method but may provide more details about the first two methods in the future. Using the Disturbance Explorer app (see relevant Shiny Apps section), it is possible to create intactness and footprint maps for any region within the Yukon and northern BC.</p>
</section>
<section id="step-5.-export-footprint-and-intactness-maps" class="level2">
<h2 class="anchored" data-anchor-id="step-5.-export-footprint-and-intactness-maps">Step 5. Export footprint and intactness maps</h2>
<p>Using the Disturbance Explorer app, the resulting footprint and intactness maps can then be saved as layers within a geopackage using either of the 3 approaches.</p>
</section>
<section id="repeat-using-different-buffer-width-and-minimum-patch-sizes-optional" class="level2">
<h2 class="anchored" data-anchor-id="repeat-using-different-buffer-width-and-minimum-patch-sizes-optional">Repeat using different buffer width and minimum patch sizes (optional)</h2>
<p>An optional, but recommended ,step is to repeat the procedure of generating intactness and footprint maps using varying buffer sizes and minimum patch sizes to assess the sensitivity of the results to these parameters.</p>


</section>
<section id="workflow-mapping-disturbances" class="level2">
<h2 class="anchored" data-anchor-id="workflow-mapping-disturbances">Workflow: Mapping disturbances</h2>
<p>We organized the mapping workflow into six broad steps, starting from defining an area of interest to creating up-to-date disturbance and validating it. Not all the steps may need to be completed if, for example, there were no gaps in the coverage of disturbances. Likewise, the workflow is flexible and does not necessarily need to be completed sequentially. In this particular workflow we’ve assumed that the end goal is to create an up-to-date anthropogenic disturbance map for a user-defined study area.</p>
<p>Finally, we note that, although important, this workflow does not incorporate machine learning algorithms for automated classification of disturbances. It is meant to be applied by anyone with access to a computer and the internet and does not require any special GIS, remote sensing, or data analysis skills. The workflow has been tested and refined using project areas in the Yukon and British Columbia. It will continue to be revised iteratively through experience and user feedback.</p>
<p>The flowchart below provides an overview of the disturbance mapping workflow and its six steps. Each step is then described in more detail in the following paragraphs.</p>
<center>
<img src="pics/disturbance.png" width="100%"> <br><em>Figure 1. Flowchart outlining the six broad steps used to develop an anthropogenic disturbance map for a study area of interest.</em><br><br>
</center>
</section>
<section id="step-1.-define-area-and-disturbances-of-interest" class="level2">
<h2 class="anchored" data-anchor-id="step-1.-define-area-and-disturbances-of-interest">Step 1. Define area and disturbances of interest</h2>
<p>The first step of a new mapping project is to define the area of interest, the year(s) of interest, and the key anthropogenic disturbance types of interest. The area of interest (AOI) can either be an existing polygon or a user-defined polygon. Examples of existing polygons in Canada include watersheds (e.g., fundamental drainage areas or FDAs), ecoregions, or caribou ranges. Alternatively, a user-defined polygon can be digitized using QGIS. The selected polygon should then be saved as a layer in a geopackage format (“.gpkg”). At this point it is also important to consider the coordinate reference system (CRS) that will be used as well as the resolution of any raster data that will be used, including satellite imagery. The intitial geopackage should thus include the AOI boundary layer in the CRS that will be used for the project.</p>
<p>Another important consideration is to identify the year(s) of interest for the project. If the objective of the project is to create a disturbance map for the current time period, this will limit the search of data sources to the most recent datasets available. Since it is unlikely that all available data sources are current, this will also require a search of recent, cloud free, satellite imagery (see Step 3). A combination of existing thematic maps and recent satellite imagery will thus often be necessary to create a temporally homogeneous coverage of the AOI. In some cases, the objective might be to look at change over time, requiring two or more time periods, and consequently the search for historical data source. The choice of historical time periods to map will depend on available data sources, including older imagery and aerial photos and objectives of the project.</p>
<p>The third consideration in step one is to identify which anthropogenic industry and disturbance types will be mapped. The most common approach is to include all linear and areal disturbances that are detectable at a set scale, usually limited by the availability of satellite imagery for the AOI and year desired. In other cases, interest might be focused on the one industry, for example to evaluate the effects of mining on wolverine occupancy. Anthropogenic disturbance types to be mapped can be identified through local knowledge, a literature review, or expert consultation. In the boreal region, many disturbances are related to, but not limited, to mining, forest management, and oil and gas activities. The key task here is to use, adapt, or develop a (hierarchical) classification scheme to organize disturbance types into broader categories and subcategories. Such a scheme will facilitate the systematic classification of disturbances using remote sensing data. A possibility is to adopt or adapt an existing classification scheme for disturbances. For example, in the case study below, we use the classification system developed by the Yukon Government for surface disturbance mapping (Government of Yukon 2022). Alternatively, a global hierarchical framework classifying disturbances can be used (IUCN?).</p>
<p>Products for this step include:</p>
<ul>
<li>A GeoPackage file (https://www.geopackage.org/) with a vector layer of the area of interest (AOI) in the coordinate reference system (CRS; https://en.wikipedia.org/wiki/Spatial_reference_system) to be use throughout the project.</li>
<li>A spreadsheet describing the industry and disturbance types that will be the focus of the mapping project.</li>
</ul>
</section>
<section id="step-2.-assemble-existing-datasets" class="level2">
<h2 class="anchored" data-anchor-id="step-2.-assemble-existing-datasets">Step 2. Assemble existing datasets</h2>
<p>The main objective of this step is to compile existing datasets related to anthropogenic disturbances from various sources, including governmental agencies, research institutions, and remote sensing repositories. The datasets should encompass a wide range of disturbance types, such as linear infrastructure, forest harvesting, mining activities, and energy development. Examples include roads, cutblocks, seismic lines, and open pit mines. Additionally, ancillary data sources such as topography and hydrology should be considered as they can often be used to enhance interpretability. In some cases, some disturbance types may have more than one source of data. For example, in most provinces forest resources inventory data is collected regularly and made available publicly. The data vary greatly by province or territory in terms of attributes collected and year(s) of inventory. Complementary to this data source is a time series harvested areas based on 30-m Landsat imagery for the years 1984-2019. In many cases, both sources may need to be used to create a seamless and current map of harvest areas for an AOI. Table 2 provides several lists of datasets that can be used as a starting point for projects based in Canada.</p>
<p>Once datasets have been compiled, they will need to be processed to create a comprehensive database for the project using a consistent coordinate reference system (CRS). Each selected dataset should be clipped to the AOI and reprojected to the project CRS. Sample scripts to do this are provided on the accompanying GitHub repository and illustrated in the case studies.</p>
<p>Products for this step include:</p>
<ul>
<li>A “metadata” table that describes each dataset that will be considered for use in the project. For each datasets, the table should include information on geographic coverage, year, resolution, input data sources, download URL or contact, date of acquisition etc.</li>
<li>A “gisdata” folder that contains all orginal datasets that were acquired and that will potentially be used in the mapping project.</li>
<li>A GeoPackage (see Step 2) that comprises all clipped and reprojected datasets that will be used in the next steps, along with any code and documentation to enable replication.</li>
</ul>
<p>Table 2. Existing data sources for Yukon, BC, Alberta, and NWT. Each list is regularly updated.</p>
<table class="table">
<colgroup>
<col style="width: 36%">
<col style="width: 63%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Dataset</th>
<th style="text-align: left;">Location of annotated list</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Yukon</td>
<td style="text-align: left;">https://github.com/beaconsproject/disturbance_mapping/blob/master/docs/data_yt.csv</td>
</tr>
<tr class="even">
<td style="text-align: left;">BC</td>
<td style="text-align: left;">https://github.com/beaconsproject/disturbance_mapping/blob/master/docs/data_bc.csv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Alberta</td>
<td style="text-align: left;">https://github.com/beaconsproject/disturbance_mapping/blob/master/docs/data_ab.csv</td>
</tr>
<tr class="even">
<td style="text-align: left;">NWT</td>
<td style="text-align: left;">https://github.com/beaconsproject/disturbance_mapping/blob/master/docs/data_nt.csv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Canada</td>
<td style="text-align: left;">https://github.com/beaconsproject/disturbance_mapping/blob/master/docs/data_national.csv</td>
</tr>
<tr class="even">
<td style="text-align: left;">Global</td>
<td style="text-align: left;">https://github.com/beaconsproject/disturbance_mapping/blob/master/docs/data_global.csv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Web services</td>
<td style="text-align: left;">https://github.com/beaconsproject/disturbance_mapping/blob/master/docs/web_services.csv</td>
</tr>
<tr class="even">
<td style="text-align: left;">Satellite imagery</td>
<td style="text-align: left;">https://github.com/beaconsproject/disturbance_mapping/blob/master/docs/remote_sensing.md</td>
</tr>
</tbody>
</table>
</section>
<section id="step-3.-identify-spatial-and-temporal-gaps-in-coverage" class="level2">
<h2 class="anchored" data-anchor-id="step-3.-identify-spatial-and-temporal-gaps-in-coverage">Step 3. Identify spatial and temporal gaps in coverage</h2>
<p>Once all essential existing datasets have been assembled into a GeoPackage file, the next step is to identify if and where spatial and temporal gaps in coverage exists. This step is important because it will identify and limit where new data needs to be acquired through digitization as described in Step 4. There are several possibilities. In some cases, disturbance datasets will cover the entire AOI for a specific disturbance type e.g., railroads and cutblocks. In other cases, an attempt to map all disturbance types may have been made for a subset of the AOI. In such cases, the data may be accompanied by an “extent of mapping” polygon indicating the spatial boundaries of the mapping project. In the best case, the year of mapping and/or data sources used would also be included. This is the case with the Yukon Government surface disturbance mapping initiatives, which will be described further in the case study. If that information is not available, the user will need to compare various data sources (thematic and imagery) to attempt to determine the year for which the information is valid.</p>
<p>The key task here is to review the database thoroughly to identify any areas where there are gaps in the coverage. Each disturbance layer in the GeoPackage should be reviewed separately and/or together to evaluate its completeness for each identified disturbance type. Gaps can then be recorded using a spatial grid, for example a 10km x 10km grid intersecting the study area. The case study will provide an example of this. This will allow for a quick view of grid squares that will need to be filled through digitizing. Temporal gaps also need to be identified by looking for attributes with information about the year of mapping or underlying data sources used to generate specific datasets. If the year of the data is significantly different from the target year, this should be identified as a temporal gap due to the age of the information. Likewise, if there is no attribute information, this should also be identified as a gap due to lack of information. Information on temporal gaps can also be added to the gap grid.</p>
<p>Products for this step include:</p>
<ul>
<li>A grid map and accompanying table describing spatial and temporal coverage in coverage. The specific disturbance types that are missing should also be indicated in the table. This grid map and table will be used to assess whether gaps can be filled with detailed disturbance mapping using recent high resolution satellite imagery.</li>
</ul>
</section>
<section id="step-4.-fill-gaps-through-satellite-imagery-digitization" class="level2">
<h2 class="anchored" data-anchor-id="step-4.-fill-gaps-through-satellite-imagery-digitization">Step 4. Fill gaps through satellite imagery digitization</h2>
<p>The objective of Step 4 is to fill any spatial or temporal gaps in the AOI that were identified in the previous step. To fill these gaps, we adapted a methodology for digitizing surface disturbance data from satellite imagery based largely on an approach developed by the Yukon Government (YG 2023). The approach is based on manual digitization of disturbances from high resolution satellite imagery using geographic information system (GIS) software and ancillary data. This step can be divided into four tasks: i) preparation of a data package, ii) selection of appropriate satellite imagery, iii) digitizing linear and disturbance features from satellite imagery (including assigning attributes and confidence level), and iv) ensuring quality control on an ongoing basis.</p>
<p>The project data package should consist of several data layers, including existing anthropogenic disturbances, reference layers (i.e., boundary and grids to guide digitizing), digitizing templates for linear and areal disturbances, and supporting ancillary layers (e.g., rivers and streams). A description of the template layers for linear and areal disturbances and how to create them is provided in the BEACONs <a href="https://docs.google.com/document/d/1pVEeJe09dDMEV8KVDPm5VlvCeTs8LtK8vEzI-lGqiC8">Disturbance Mapping Procedures manual</a>. This includes adding several key fields for recording information of industry and disturbance type, year and source of satellite imagery, etc.</p>
<p>The data package should also include the selected satellite imagery downloaded as geotiff files or added as web services within QGIS. Table 3 provides examples of sources of commonly available satellite imagery. Some sources, such as SPOT imagery, are generally not freely available to individuals but may be accessible through partner organizations or government or university agreements. For example, GeoYukon provides complete (mostly cloud free) coverage of the Yukon using SPOT imagery (circa 2021) which is freely available as a web services. An example data package is provided in the case study. Other appropriate satellite imagery sources should be selected based on their spatial resolution, temporal frequency, and spectral bands that are best suited for capturing the disturbances of interest. For example, Landsat or Sentinel may be suitable for mapping harvested areas or wilfires but may not be of high enough resolution to capture seismic lines. If necessary, satellite imagery may undergo pre-processing to enhance interpretability. This includes radiometric and atmospheric correction, image calibration to minimize sensor artifacts, and cloud masking and image mosaicking to ensure data quality. Such procedures are beyond the scope of this paper and our focus is on analysis ready imagery. In the case studies, we illustrate the process of digitizing disturbance features from SPOT imagery. We also note that there is an increasing number of apps that can be used to automate the mapping of disturbances using the Landsat and Sentinel archives on GEE1 (LandTrendr<sup>1</sup>, Kennedy et al.&nbsp;2021; BAP<sup>2</sup>, White et al.&nbsp;2014). These may be useful for mapping certain types of disturbances over time e.g., see, for example, https://opendata.nfis.org/mapserver/nfis-change_eng.html.</p>
<p>Table 3. Sources of freely available high resolution satellite imagery suitable for mapping anthropogenic surface disturbances at 1:5,000 scale.</p>
<table class="table">
<colgroup>
<col style="width: 18%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Source</th>
<th style="text-align: center;">Spatial resolution</th>
<th style="text-align: center;">Temporal resolution</th>
<th style="text-align: left;">Example availability</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">SPOT</td>
<td style="text-align: center;">1.5m</td>
<td style="text-align: center;"></td>
<td style="text-align: left;">GeoYukon</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sentinel</td>
<td style="text-align: center;">10m</td>
<td style="text-align: center;"></td>
<td style="text-align: left;">Copernicus</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Landsat</td>
<td style="text-align: center;">30m</td>
<td style="text-align: center;">1984-2023</td>
<td style="text-align: left;">Google Earth Engine</td>
</tr>
<tr class="even">
<td style="text-align: left;">ESRI</td>
<td style="text-align: center;">varies</td>
<td style="text-align: center;">varies</td>
<td style="text-align: left;">ArcGIS, QGIS web services</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Google</td>
<td style="text-align: center;">varies</td>
<td style="text-align: center;">varies</td>
<td style="text-align: left;">ArcGIS, QGIS web services</td>
</tr>
</tbody>
</table>
<p><sup>1</sup> https://emapr.github.io/LT-GEE/ <br> <sup>2</sup> https://github.com/saveriofrancini/bap</p>
</section>
<section id="step-5.-merge-existing-and-new-datasets" class="level2">
<h2 class="anchored" data-anchor-id="step-5.-merge-existing-and-new-datasets">Step 5. Merge existing and new datasets</h2>
<p>The main objective of Step 5 is to combine the newly digitized linear and areal disturbance features with the existing disturbance featues that were assembled in Step 2. Key to this step is the use of a common attribute schema to facilitate the integration of different sources of data. A common attribute schema should not only include common attributes but a range of acceptable values for all attributes, whether continuous or categorical. Once digitizing is complete and has been reviewed (Step 6) by at least one other project member, the new and existing data can be merged manually using either QGIS or programatically using R. The advantage of using R for this step is that it insures replicability and allows one to add some validation code to check for valid attribute names and values. Sample code is provided on the GitHub repository and illustrated in the Case Studies. Note that this step also assumes that existing features that were found to be no longer visible or in error have been removed or revised prior to merging (see Digitizing manual).</p>
</section>
<section id="step-6.-validate-and-revise-maps" class="level2">
<h2 class="anchored" data-anchor-id="step-6.-validate-and-revise-maps">Step 6. Validate and revise maps</h2>
<p>The focus of Step 6 is to validate the newly digitized anthropogenic disturbance features and revise the maps if needed. This can be done in one of three ways, with increasing rigour: i) ongoing review of digitizing work by another person, ii) remote-based validation, and iii) field-based validation. In first approach, a second person from the project team (e.g., a supervisor or alternative digitizer) should review and check a sample of the newly digitized features (or all features in more intact areas), preferably on an ongoing basis. In this way, the quality of digitized data can be ensured through multiple rounds of verification and validation.</p>
<p>In the second approach, the newly digitized features are validated using imagery that are of a higher resolution that the imagery that was used to digitize the features. This can include very high resolution (VHR) imagery (e.g., ESRI or Google imagery) or even recent or historical areal photos if available. The selected ground truth data can then be used to assess the accuracy of the mapped disturbances. To do this, the mapped disturbances should be compared with the “ground truth” data to measure discrepancies and identify areas of agreement. The validation results can be used to inform iterative refinements of the workflow, such as selecting additional sources of satellite imagery or auxilliary data, or planning additional validation steps.</p>
<p>In the third and most rigorous approach, independent field-based data is collected and compared to the mapped features. Field-based data can be collected by visiting features in situ either in person (e.g., walking, biking, using quads) or using drones from locations near the features of interest. In addition, field-based validation could include workshops with community members or land users to get their input on local trails and roads. Confirming attributes of mapped features, adding trails that cannot be mapped from satellite imagery, for example snow mobile trails that are only used in the winter. Field-based validation is generally more cost and labour intensive than the first two methods and are not always conducted by agencies charged with disturbance mapping (e.g., ABMI). The design and collection of field-based data is beyond the scope of this paper.</p>
<p>Products for this step include:</p>
<ul>
<li>A list of newly digitized lines and polygons and their attributes that were checked by another qualified project member.</li>
<li>Summary statistics from comparing the newly digitized linear and areal features to higher resolution data from the same time period.</li>
</ul>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    if (id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        return container.innerHTML
      } else {
        return note.innerHTML;
      }
    } else {
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      try { hash = new URL(url).hash; } catch {}
      const id = hash.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note !== null) {
        try {
          const html = processXRef(id, note);
          instance.setContent(html);
        } finally {
          instance.enable();
          instance.show();
        }
      } else {
        // See if we can fetch this
        fetch(url.split('#')[0])
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.getElementById(id);
          if (note !== null) {
            const html = processXRef(id, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../workflows/disturbance.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Disturbance mapping</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../workflows/hydrology.html" class="pagination-link">
        <span class="nav-page-text">Hydrological connectivity</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© CC-By BEACONs, 2023</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>The BEACONs Project.</p>
</div>
  </div>
</footer>




</body></html>